\hypertarget{assign_2main_8c}{}\doxysection{assign/main.c File Reference}
\label{assign_2main_8c}\index{assign/main.c@{assign/main.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include \char`\"{}assign.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../banker/need.\+c\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../loader/read.\+c\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../geographer/update.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../geographer/road.\+c\char`\"{}}\newline
Include dependency graph for main.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{assign_2main_8c__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=197pt]{assign_2main_8c__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{assign_2main_8c_ad86358bf19927183dd7b4ae215a29731}{COLOR\+\_\+\+RED}}~\char`\"{}\textbackslash{}x1b\mbox{[}31m\char`\"{}
\item 
\#define \mbox{\hyperlink{assign_2main_8c_a17f760256046df23dd0ab46602f04d02}{COLOR\+\_\+\+RESET}}~\char`\"{}\textbackslash{}x1b\mbox{[}0m\char`\"{}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{assign_2main_8c_a633a5f11e0e40867cbb62222077211ce}{free\+List}} (struct \mbox{\hyperlink{structbuilding}{building}} $\ast$$\ast$buildingL)
\item 
struct \mbox{\hyperlink{structmap}{map}} $\ast$ \mbox{\hyperlink{assign_2main_8c_a3d4cdb81f3bfaf77001e4b79839dfd75}{test\+Assign}} (int compt, int roof)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{assign_2main_8c_ad86358bf19927183dd7b4ae215a29731}\label{assign_2main_8c_ad86358bf19927183dd7b4ae215a29731}} 
\index{main.c@{main.c}!COLOR\_RED@{COLOR\_RED}}
\index{COLOR\_RED@{COLOR\_RED}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{COLOR\_RED}{COLOR\_RED}}
{\footnotesize\ttfamily \#define COLOR\+\_\+\+RED~\char`\"{}\textbackslash{}x1b\mbox{[}31m\char`\"{}}

\mbox{\Hypertarget{assign_2main_8c_a17f760256046df23dd0ab46602f04d02}\label{assign_2main_8c_a17f760256046df23dd0ab46602f04d02}} 
\index{main.c@{main.c}!COLOR\_RESET@{COLOR\_RESET}}
\index{COLOR\_RESET@{COLOR\_RESET}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{COLOR\_RESET}{COLOR\_RESET}}
{\footnotesize\ttfamily \#define COLOR\+\_\+\+RESET~\char`\"{}\textbackslash{}x1b\mbox{[}0m\char`\"{}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{assign_2main_8c_a633a5f11e0e40867cbb62222077211ce}\label{assign_2main_8c_a633a5f11e0e40867cbb62222077211ce}} 
\index{main.c@{main.c}!freeList@{freeList}}
\index{freeList@{freeList}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{freeList()}{freeList()}}
{\footnotesize\ttfamily void free\+List (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structbuilding}{building}} $\ast$$\ast$}]{buildingL }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{18 \{}
\DoxyCodeLine{19     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 21; i++)}
\DoxyCodeLine{20     \{}
\DoxyCodeLine{21         \textcolor{keyword}{struct }\mbox{\hyperlink{structbuilding}{building}} *buildingF = *(buildingL+i);}
\DoxyCodeLine{22         \textcolor{keyword}{struct }\mbox{\hyperlink{structbuilding_type}{buildingType}} *values = buildingF-\/>\mbox{\hyperlink{structbuilding_acb1f807e47864215ecbfcd3188ff5f73}{values}};}
\DoxyCodeLine{23         free(buildingF);}
\DoxyCodeLine{24         free(values);}
\DoxyCodeLine{25     \}}
\DoxyCodeLine{26     free(buildingL);}
\DoxyCodeLine{27 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structbuilding_acb1f807e47864215ecbfcd3188ff5f73}{building\+::values}}.

\mbox{\Hypertarget{assign_2main_8c_a3d4cdb81f3bfaf77001e4b79839dfd75}\label{assign_2main_8c_a3d4cdb81f3bfaf77001e4b79839dfd75}} 
\index{main.c@{main.c}!testAssign@{testAssign}}
\index{testAssign@{testAssign}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{testAssign()}{testAssign()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structmap}{map}} $\ast$ test\+Assign (\begin{DoxyParamCaption}\item[{int}]{compt,  }\item[{int}]{roof }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{31 \{}
\DoxyCodeLine{32     \textcolor{comment}{//init structs}}
\DoxyCodeLine{33     \textcolor{keywordtype}{int} **building\_value = \mbox{\hyperlink{read_8c_a0d5481adb9137a4e76b8b50bf0d626cf}{load\_building\_value}}();}
\DoxyCodeLine{34     \textcolor{keywordtype}{char} **buildind\_label = \mbox{\hyperlink{read_8c_aefb2347a9abea8eb21651294af6d33bc}{load\_building\_labels}}();}
\DoxyCodeLine{35     \textcolor{keywordtype}{int} *buildingList = \mbox{\hyperlink{need_8c_a909501c02dc126cdaeec895c653a964f}{initTownList3}}(compt, 1);}
\DoxyCodeLine{36     \textcolor{keywordtype}{int} *\_buildingList = \mbox{\hyperlink{need_8c_a909501c02dc126cdaeec895c653a964f}{initTownList3}}(compt, 1);}
\DoxyCodeLine{37     \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{38     \textcolor{keywordtype}{int} nbbat = 0;}
\DoxyCodeLine{39     \textcolor{keywordflow}{while}(i < 6)}
\DoxyCodeLine{40     \{}
\DoxyCodeLine{41         nbbat += *(buildingList+i);}
\DoxyCodeLine{42         i++;}
\DoxyCodeLine{43     \}}
\DoxyCodeLine{44     \textcolor{keywordtype}{int} truc = 50 + compt/2000;}
\DoxyCodeLine{45     truc += truc\%2;}
\DoxyCodeLine{46     \textcolor{keyword}{struct }\mbox{\hyperlink{structmap}{map}} *newmap = \mbox{\hyperlink{assign_8c_a09b468e0b9bf23d8cc13b67fab3b4617}{initMap}}(truc, truc);}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     \textcolor{keyword}{struct }\mbox{\hyperlink{structmap}{map}} *testmap = \mbox{\hyperlink{assign_8c_a09b468e0b9bf23d8cc13b67fab3b4617}{initMap}}(truc, truc);}
\DoxyCodeLine{49 }
\DoxyCodeLine{50     \textcolor{keywordtype}{int} nb\_sub = buildingList[6];}
\DoxyCodeLine{51     \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} **Subways = \mbox{\hyperlink{assign_8c_a8d1b043f2541bd164d2210f7570c8218}{generateRandomSubway}}(newmap, buildingList, building\_value);}
\DoxyCodeLine{52     \mbox{\hyperlink{assign__tools_8c_a55186af83b1331c4f6769a59cee1211e}{printMatrix}}(newmap);}
\DoxyCodeLine{53     \mbox{\hyperlink{assign_8c_a71f430d4fa6a854641d8e414ecfead93}{generateRdmRoads}}(newmap, nb\_sub, Subways);}
\DoxyCodeLine{54 }
\DoxyCodeLine{55     \textcolor{comment}{//init first bat}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *center = newmap-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} + newmap-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}}/2 +newmap-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}} * newmap-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}/2;}
\DoxyCodeLine{58     center-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 0;}
\DoxyCodeLine{59     (center+1)-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 6;}
\DoxyCodeLine{60     (center-\/1)-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 6;}
\DoxyCodeLine{61 }
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \mbox{\hyperlink{update_8c_a86539730d7569637769e840303e61adc}{updateAround}}(newmap, newmap-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}}/2, newmap-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}/2, building\_value);}
\DoxyCodeLine{64 }
\DoxyCodeLine{65     \textcolor{comment}{//start the filling}}
\DoxyCodeLine{66 }
\DoxyCodeLine{67     \textcolor{keywordtype}{int} numOff = 0;}
\DoxyCodeLine{68     \textcolor{keywordtype}{int} numPro = 0;}
\DoxyCodeLine{69     \textcolor{keywordtype}{int} numSho = 0;}
\DoxyCodeLine{70     \textcolor{keywordtype}{int} numHos = 0;}
\DoxyCodeLine{71     \textcolor{keywordtype}{int} numCom = 0;}
\DoxyCodeLine{72     \textcolor{keywordtype}{int} ty = \mbox{\hyperlink{assign_8c_a527224c39f56ef6cd7c884f61308ad64}{fillTown}}(newmap, buildingList, roof, building\_value);}
\DoxyCodeLine{73 }
\DoxyCodeLine{74     \mbox{\hyperlink{assign__tools_8c_a55186af83b1331c4f6769a59cee1211e}{printMatrix}}(newmap);}
\DoxyCodeLine{75     \textcolor{keywordtype}{int} \_ty = ty;}
\DoxyCodeLine{76     *testmap = *newmap;}
\DoxyCodeLine{77     \mbox{\hyperlink{assign__tools_8c_a55186af83b1331c4f6769a59cee1211e}{printMatrix}}(testmap);}
\DoxyCodeLine{78 }
\DoxyCodeLine{79     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} n = 0; n < nbbat -\/ 1 \&\& ty != -\/10; n++)}
\DoxyCodeLine{80     \{}
\DoxyCodeLine{81         ty = \mbox{\hyperlink{assign_8c_a527224c39f56ef6cd7c884f61308ad64}{fillTown}}(newmap, buildingList, roof, building\_value);}
\DoxyCodeLine{82         \_ty = \mbox{\hyperlink{assign_8c_a527224c39f56ef6cd7c884f61308ad64}{fillTown}}(testmap, \_buildingList, roof, building\_value);}
\DoxyCodeLine{83 }
\DoxyCodeLine{84 }
\DoxyCodeLine{85         \textcolor{keywordflow}{if} (\mbox{\hyperlink{assign_8c_acd8aface572ac83fb48302f369e814c8}{minMaxMap}}(newmap, testmap) == testmap)}
\DoxyCodeLine{86         \{}
\DoxyCodeLine{87 }
\DoxyCodeLine{88             *newmap = *testmap;}
\DoxyCodeLine{89             *buildingList = *\_buildingList;}
\DoxyCodeLine{90             ty = \_ty;}
\DoxyCodeLine{91         \}}
\DoxyCodeLine{92 }
\DoxyCodeLine{93         \textcolor{keywordflow}{else}}
\DoxyCodeLine{94         \{}
\DoxyCodeLine{95             *testmap = *newmap;}
\DoxyCodeLine{96             *\_buildingList = *buildingList;}
\DoxyCodeLine{97         \}}
\DoxyCodeLine{98 }
\DoxyCodeLine{99         \textcolor{keywordflow}{if} (ty == 1)}
\DoxyCodeLine{100             numPro += 1;}
\DoxyCodeLine{101         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ty == 2)}
\DoxyCodeLine{102             numOff += 1;}
\DoxyCodeLine{103         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ty == 3)}
\DoxyCodeLine{104             numCom += 1;}
\DoxyCodeLine{105         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ty == 4)}
\DoxyCodeLine{106             numSho += 1;}
\DoxyCodeLine{107         \textcolor{keywordflow}{else}}
\DoxyCodeLine{108             numHos += 1;}
\DoxyCodeLine{109     \}}
\DoxyCodeLine{110     printf(\textcolor{stringliteral}{"{}number of offices = \%i\(\backslash\)n"{}}, numOff);}
\DoxyCodeLine{111 }
\DoxyCodeLine{112     printf(\textcolor{stringliteral}{"{}number of properties = \%i\(\backslash\)n"{}}, numPro);}
\DoxyCodeLine{113 }
\DoxyCodeLine{114     printf(\textcolor{stringliteral}{"{}number of shops = \%i\(\backslash\)n"{}}, numSho);}
\DoxyCodeLine{115 }
\DoxyCodeLine{116     printf(\textcolor{stringliteral}{"{}number of hospitals = \%i\(\backslash\)n"{}}, numHos);}
\DoxyCodeLine{117 }
\DoxyCodeLine{118     printf(\textcolor{stringliteral}{"{}number of police stations = \%i\(\backslash\)n"{}}, numCom);}
\DoxyCodeLine{119 }
\DoxyCodeLine{120     \mbox{\hyperlink{assign__tools_8c_a55186af83b1331c4f6769a59cee1211e}{printMatrix}}(newmap);}
\DoxyCodeLine{121     \mbox{\hyperlink{assign__tools_8c_a9f3af2ddae6cdac6f969647b40cd3681}{analyseMatrix}}(newmap);}
\DoxyCodeLine{122 }
\DoxyCodeLine{123     \textcolor{comment}{//start replacement}}
\DoxyCodeLine{124     \textcolor{keywordtype}{int} *nbreplacement = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{125     *nbreplacement = 0;}
\DoxyCodeLine{126     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} n = 0; n < nbbat*2; n++)}
\DoxyCodeLine{127     \{}
\DoxyCodeLine{128         \mbox{\hyperlink{assign_8c_a4be01986344e82266a0691d32072733f}{replaceTown}}(newmap, buildingList, roof, building\_value, nbreplacement);}
\DoxyCodeLine{129     \}}
\DoxyCodeLine{130 }
\DoxyCodeLine{131     \mbox{\hyperlink{assign__tools_8c_a55186af83b1331c4f6769a59cee1211e}{printMatrix}}(newmap);}
\DoxyCodeLine{132     \mbox{\hyperlink{assign__tools_8c_a9f3af2ddae6cdac6f969647b40cd3681}{analyseMatrix}}(newmap);}
\DoxyCodeLine{133 }
\DoxyCodeLine{134     \textcolor{comment}{//free}}
\DoxyCodeLine{135     free(nbreplacement);}
\DoxyCodeLine{136     \textcolor{comment}{//free(newmap-\/>cells);      // axel}}
\DoxyCodeLine{137     \textcolor{comment}{//free(newmap);             // axel}}
\DoxyCodeLine{138     \textcolor{comment}{//freeList(buildingList2);}}
\DoxyCodeLine{139     \mbox{\hyperlink{loadtools_8c_a51db0d8ee75cbb1854f14c33fe1aae8b}{free\_building\_list}}((\textcolor{keywordtype}{void} **)building\_value);}
\DoxyCodeLine{140     \mbox{\hyperlink{loadtools_8c_a51db0d8ee75cbb1854f14c33fe1aae8b}{free\_building\_list}}((\textcolor{keywordtype}{void} **)buildind\_label);}
\DoxyCodeLine{141     free(buildingList);}
\DoxyCodeLine{142     \textcolor{keywordflow}{return} newmap;}
\DoxyCodeLine{143 \}}

\end{DoxyCode}


References \mbox{\hyperlink{assign__tools_8c_a9f3af2ddae6cdac6f969647b40cd3681}{analyse\+Matrix()}}, \mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{map\+::cells}}, \mbox{\hyperlink{assign_8c_a527224c39f56ef6cd7c884f61308ad64}{fill\+Town()}}, \mbox{\hyperlink{loadtools_8c_a51db0d8ee75cbb1854f14c33fe1aae8b}{free\+\_\+building\+\_\+list()}}, \mbox{\hyperlink{assign_8c_a8d1b043f2541bd164d2210f7570c8218}{generate\+Random\+Subway()}}, \mbox{\hyperlink{assign_8c_a71f430d4fa6a854641d8e414ecfead93}{generate\+Rdm\+Roads()}}, \mbox{\hyperlink{assign_8c_a09b468e0b9bf23d8cc13b67fab3b4617}{init\+Map()}}, \mbox{\hyperlink{need_8c_a909501c02dc126cdaeec895c653a964f}{init\+Town\+List3()}}, \mbox{\hyperlink{read_8c_aefb2347a9abea8eb21651294af6d33bc}{load\+\_\+building\+\_\+labels()}}, \mbox{\hyperlink{read_8c_a0d5481adb9137a4e76b8b50bf0d626cf}{load\+\_\+building\+\_\+value()}}, \mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{map\+::max\+Height}}, \mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{map\+::max\+Width}}, \mbox{\hyperlink{assign_8c_acd8aface572ac83fb48302f369e814c8}{min\+Max\+Map()}}, \mbox{\hyperlink{assign__tools_8c_a55186af83b1331c4f6769a59cee1211e}{print\+Matrix()}}, \mbox{\hyperlink{assign_8c_a4be01986344e82266a0691d32072733f}{replace\+Town()}}, \mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{cell\+::type}}, and \mbox{\hyperlink{update_8c_a86539730d7569637769e840303e61adc}{update\+Around()}}.



Referenced by \mbox{\hyperlink{input__gtk_8c_aa119a021d6e9b4f19136302b391de6fc}{on\+\_\+click\+\_\+button()}}.

