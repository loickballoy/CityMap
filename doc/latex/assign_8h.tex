\hypertarget{assign_8h}{}\doxysection{assign/assign.h File Reference}
\label{assign_8h}\index{assign/assign.h@{assign/assign.h}}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=274pt]{assign_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{assign_8h_a403c57e536b5d9e74b0348cbf6cb82c4}{RDMRANGE}}~8
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structmap}{map}} $\ast$ \mbox{\hyperlink{assign_8h_acd8aface572ac83fb48302f369e814c8}{min\+Max\+Map}} (struct \mbox{\hyperlink{structmap}{map}} $\ast$new\+Map, struct \mbox{\hyperlink{structmap}{map}} $\ast$test\+Map)
\begin{DoxyCompactList}\small\item\em Runs two map generations and returns the most optimal of both maps. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structmap}{map}} $\ast$ \mbox{\hyperlink{assign_8h_a09b468e0b9bf23d8cc13b67fab3b4617}{init\+Map}} (unsigned int maxH, unsigned int maxW)
\begin{DoxyCompactList}\small\item\em Initalises the terrain on which our functions will work. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{assign_8h_a527224c39f56ef6cd7c884f61308ad64}{fill\+Town}} (struct \mbox{\hyperlink{structmap}{map}} $\ast$\mbox{\hyperlink{structmap}{map}}, int $\ast$building\+List, int roof, int $\ast$$\ast$building\+\_\+value)
\begin{DoxyCompactList}\small\item\em Fills the town with buildings from the building\+List according to the needs spread around the map. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{assign_8h_a4be01986344e82266a0691d32072733f}{replace\+Town}} (struct \mbox{\hyperlink{structmap}{map}} $\ast$\mbox{\hyperlink{structmap}{map}}, int $\ast$building\+List, int roof, int $\ast$$\ast$building\+\_\+value, int $\ast$nbreplacement)
\begin{DoxyCompactList}\small\item\em Acts as a test for map modulation in order to get the best map/city possible. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcell}{cell}} $\ast$ \mbox{\hyperlink{assign_8h_ae8edf5c268e483bf6616420db4061584}{replace\+Global\+Need}} (struct \mbox{\hyperlink{structmap}{map}} $\ast$\mbox{\hyperlink{structmap}{map}}, int $\ast$building\+List, int $\ast$maxstat, int roof, int $\ast$a)
\begin{DoxyCompactList}\small\item\em The search algorithm used to find the best possible building in the modulation phase. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcell}{cell}} $\ast$ \mbox{\hyperlink{assign_8h_a3deb1131b3df3c9545342a9d4954625e}{search\+Global\+Need}} (struct \mbox{\hyperlink{structmap}{map}} $\ast$\mbox{\hyperlink{structmap}{map}}, int $\ast$building\+List, int $\ast$maxstat, int roof, int $\ast$a)
\begin{DoxyCompactList}\small\item\em The search algorithm used to find the best possible building in the first filling phase. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcell}{cell}} $\ast$ \mbox{\hyperlink{assign_8h_a00adeb551e9df729140fb6e8d143af48}{generate\+Random\+Building}} (struct \mbox{\hyperlink{structmap}{map}} $\ast$\mbox{\hyperlink{structmap}{map}}, int $\ast$building\+List, int $\ast$maxstat, int $\ast$a, int nbcompt)
\begin{DoxyCompactList}\small\item\em Generates a random building when the search algorithm was unsuccesful. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcell}{cell}} $\ast$$\ast$ \mbox{\hyperlink{assign_8h_a8d1b043f2541bd164d2210f7570c8218}{generate\+Random\+Subway}} (struct \mbox{\hyperlink{structmap}{map}} $\ast$\mbox{\hyperlink{structmap}{map}}, int $\ast$building\+List, int $\ast$$\ast$building\+\_\+value)
\begin{DoxyCompactList}\small\item\em Randomly places subways and interest centers. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{assign_8h_a71f430d4fa6a854641d8e414ecfead93}{generate\+Rdm\+Roads}} (struct \mbox{\hyperlink{structmap}{map}} $\ast$\mbox{\hyperlink{structmap}{map}}, int nb\+\_\+sub, struct \mbox{\hyperlink{structcell}{cell}} $\ast$$\ast$Nodes)
\begin{DoxyCompactList}\small\item\em Places Roads on the map to prevent the loss of buildings. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{assign_8h_a403c57e536b5d9e74b0348cbf6cb82c4}\label{assign_8h_a403c57e536b5d9e74b0348cbf6cb82c4}} 
\index{assign.h@{assign.h}!RDMRANGE@{RDMRANGE}}
\index{RDMRANGE@{RDMRANGE}!assign.h@{assign.h}}
\doxysubsubsection{\texorpdfstring{RDMRANGE}{RDMRANGE}}
{\footnotesize\ttfamily \#define RDMRANGE~8}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{assign_8h_a527224c39f56ef6cd7c884f61308ad64}\label{assign_8h_a527224c39f56ef6cd7c884f61308ad64}} 
\index{assign.h@{assign.h}!fillTown@{fillTown}}
\index{fillTown@{fillTown}!assign.h@{assign.h}}
\doxysubsubsection{\texorpdfstring{fillTown()}{fillTown()}}
{\footnotesize\ttfamily int fill\+Town (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structmap}{map}} $\ast$}]{map,  }\item[{int $\ast$}]{building\+List,  }\item[{int}]{roof,  }\item[{int $\ast$$\ast$}]{building\+\_\+value }\end{DoxyParamCaption})}

fill the map by placing buildings at free spaces (the most interresting part of our algorithm)
\begin{DoxyCode}{0}
\DoxyCodeLine{89 \{}
\DoxyCodeLine{90 }
\DoxyCodeLine{92 }
\DoxyCodeLine{93     \textcolor{keywordtype}{int} *a = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{94     \textcolor{keywordtype}{int} *b = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{95     *a = 0;}
\DoxyCodeLine{96     *b = 12;}
\DoxyCodeLine{97     \textcolor{keywordtype}{int} maxStats = 0;}
\DoxyCodeLine{98     \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *\mbox{\hyperlink{structcell}{cell}} = \mbox{\hyperlink{assign_8c_a3deb1131b3df3c9545342a9d4954625e}{searchGlobalNeed}}(\mbox{\hyperlink{structmap}{map}}, buildingList, \&maxStats,roof, a);}
\DoxyCodeLine{99     }
\DoxyCodeLine{100     \textcolor{keywordflow}{if}(*a == 0 \&\& buildingList[1] > 0 \&\& buildingList[2] > 0 \&\& buildingList[4] > 0)\textcolor{comment}{//if(there is no vital need) then generate random}}
\DoxyCodeLine{101     \{}
\DoxyCodeLine{102         }
\DoxyCodeLine{103         \mbox{\hyperlink{structcell}{cell}} = \mbox{\hyperlink{assign_8c_a00adeb551e9df729140fb6e8d143af48}{generateRandomBuilding}}(\mbox{\hyperlink{structmap}{map}}, buildingList, \&maxStats, a, 0);}
\DoxyCodeLine{104         \textcolor{keywordflow}{if}(*a == 0)}
\DoxyCodeLine{105             errx(1,\textcolor{stringliteral}{"{}There is no possibility to place a building randomly | assign.c: FillTown()\(\backslash\)n"{}});}
\DoxyCodeLine{106     \}}
\DoxyCodeLine{107     \textcolor{keywordflow}{else}}
\DoxyCodeLine{108     \{}
\DoxyCodeLine{109         \mbox{\hyperlink{structcell}{cell}} = \mbox{\hyperlink{assign_8c_a3deb1131b3df3c9545342a9d4954625e}{searchGlobalNeed}}(\mbox{\hyperlink{structmap}{map}}, buildingList, \&maxStats, 0, a);}
\DoxyCodeLine{110     \}}
\DoxyCodeLine{111 }
\DoxyCodeLine{112     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{structcell}{cell}})}
\DoxyCodeLine{113     \{}
\DoxyCodeLine{114         free(a);}
\DoxyCodeLine{115         free(b);}
\DoxyCodeLine{116         \textcolor{keywordflow}{return} -\/10;}
\DoxyCodeLine{117     \}}
\DoxyCodeLine{118     }
\DoxyCodeLine{119     \textcolor{keywordtype}{int} t;}
\DoxyCodeLine{120     \textcolor{keywordtype}{int} r = buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)];}
\DoxyCodeLine{121     \textcolor{keywordflow}{if}(maxStats == 1 \&\& r > 0)}
\DoxyCodeLine{122     \{}
\DoxyCodeLine{123         \textcolor{comment}{//cell-\/>building = *(buildingList+14);}}
\DoxyCodeLine{124         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 2;\textcolor{comment}{//OFFICE}}
\DoxyCodeLine{125         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[1] = 0;}
\DoxyCodeLine{126         buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)] -\/= 1;}
\DoxyCodeLine{127         }
\DoxyCodeLine{128         t = 2;  }
\DoxyCodeLine{129     \}}
\DoxyCodeLine{130     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(maxStats == 2 \&\& r > 0)}
\DoxyCodeLine{131     \{}
\DoxyCodeLine{132         \textcolor{comment}{//cell-\/>building  = *(buildingList+4);}}
\DoxyCodeLine{133         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 1;\textcolor{comment}{//PROPERTY}}
\DoxyCodeLine{134         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[2] = 0;}
\DoxyCodeLine{135         buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)] -\/= 1;}
\DoxyCodeLine{136         }
\DoxyCodeLine{137         t = 1;  }
\DoxyCodeLine{138     \}}
\DoxyCodeLine{139 }
\DoxyCodeLine{140     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(maxStats == 3 \&\& r > 0)}
\DoxyCodeLine{141     \{}
\DoxyCodeLine{142         \textcolor{comment}{//cell-\/>building  = *(buildingList+18);}}
\DoxyCodeLine{143         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 4;\textcolor{comment}{//SHOP}}
\DoxyCodeLine{144         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[3] = 0;}
\DoxyCodeLine{145         buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)] -\/= 1;}
\DoxyCodeLine{146         }
\DoxyCodeLine{147         t = 4;}
\DoxyCodeLine{148     }
\DoxyCodeLine{149     \}}
\DoxyCodeLine{150 }
\DoxyCodeLine{151     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(maxStats == 4 \&\& r > 0)}
\DoxyCodeLine{152     \{}
\DoxyCodeLine{153         \textcolor{comment}{//cell-\/>building  = *(buildingList+2);}}
\DoxyCodeLine{154         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 5;\textcolor{comment}{//HOSPITAL}}
\DoxyCodeLine{155         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[4]= 0;}
\DoxyCodeLine{156         buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)] -\/= 1;}
\DoxyCodeLine{157         }
\DoxyCodeLine{158         t = 5;}
\DoxyCodeLine{159     }
\DoxyCodeLine{160     \}}
\DoxyCodeLine{161     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (maxStats == 0 \&\& r > 0)}
\DoxyCodeLine{162     \{}
\DoxyCodeLine{163         \textcolor{comment}{//cell-\/>building  = *(buildingList+2);}}
\DoxyCodeLine{164         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 3;\textcolor{comment}{//COMMISSARY}}
\DoxyCodeLine{165         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[5]= 0;}
\DoxyCodeLine{166         buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)] -\/= 1;}
\DoxyCodeLine{167         }
\DoxyCodeLine{168         t = 3;  }
\DoxyCodeLine{169     \}}
\DoxyCodeLine{170     \textcolor{keywordflow}{else}}
\DoxyCodeLine{171     \{}
\DoxyCodeLine{172         errx(1,\textcolor{stringliteral}{"{}Undefined  | assign.c: FillTown()\(\backslash\)n"{}});}
\DoxyCodeLine{173     \}}
\DoxyCodeLine{174     \textcolor{keywordtype}{int} temp = *a;}
\DoxyCodeLine{175     *a = temp \% \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}};\textcolor{comment}{//setting a value}}
\DoxyCodeLine{176     *b = temp / \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}};\textcolor{comment}{//setting b value}}
\DoxyCodeLine{177     \mbox{\hyperlink{update_8c_a86539730d7569637769e840303e61adc}{updateAround}}(\mbox{\hyperlink{structmap}{map}}, *a, *b, building\_value);}
\DoxyCodeLine{178 }
\DoxyCodeLine{179     \textcolor{keywordflow}{if}(!\mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a419c7070b137e9a8f0134a45c18873c1}{isRoadConnected}})\textcolor{comment}{//you have to connect it}}
\DoxyCodeLine{180     \{}
\DoxyCodeLine{181         \mbox{\hyperlink{road_8c_a2b4a228e5fca4a5c72c3729dbddf7700}{roadToConnect}}(\mbox{\hyperlink{structmap}{map}}, *a, *b);}
\DoxyCodeLine{182     \}}
\DoxyCodeLine{183     \mbox{\hyperlink{road_8c_a0094438005cb56bceef0f213188c8931}{cleanWay}}(\mbox{\hyperlink{structmap}{map}});}
\DoxyCodeLine{184 }
\DoxyCodeLine{185     \textcolor{comment}{//free}}
\DoxyCodeLine{186     free(a);}
\DoxyCodeLine{187     free(b);}
\DoxyCodeLine{188 }
\DoxyCodeLine{189     \textcolor{keywordflow}{return} t;}
\DoxyCodeLine{190 \}}

\end{DoxyCode}


References \mbox{\hyperlink{road_8c_a0094438005cb56bceef0f213188c8931}{clean\+Way()}}, \mbox{\hyperlink{assign_8c_a00adeb551e9df729140fb6e8d143af48}{generate\+Random\+Building()}}, \mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{get\+Value()}}, \mbox{\hyperlink{structcell_a419c7070b137e9a8f0134a45c18873c1}{cell\+::is\+Road\+Connected}}, \mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{map\+::max\+Width}}, \mbox{\hyperlink{road_8c_a2b4a228e5fca4a5c72c3729dbddf7700}{road\+To\+Connect()}}, \mbox{\hyperlink{assign_8c_a3deb1131b3df3c9545342a9d4954625e}{search\+Global\+Need()}}, \mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{cell\+::stats}}, \mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{cell\+::type}}, and \mbox{\hyperlink{update_8c_a86539730d7569637769e840303e61adc}{update\+Around()}}.



Referenced by \mbox{\hyperlink{assign_2main_8c_a3d4cdb81f3bfaf77001e4b79839dfd75}{test\+Assign()}}.

\mbox{\Hypertarget{assign_8h_a00adeb551e9df729140fb6e8d143af48}\label{assign_8h_a00adeb551e9df729140fb6e8d143af48}} 
\index{assign.h@{assign.h}!generateRandomBuilding@{generateRandomBuilding}}
\index{generateRandomBuilding@{generateRandomBuilding}!assign.h@{assign.h}}
\doxysubsubsection{\texorpdfstring{generateRandomBuilding()}{generateRandomBuilding()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structcell}{cell}} $\ast$ generate\+Random\+Building (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structmap}{map}} $\ast$}]{map,  }\item[{int $\ast$}]{building\+List,  }\item[{int $\ast$}]{maxstat,  }\item[{int $\ast$}]{a,  }\item[{int}]{nbcompt }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{338 \{}
\DoxyCodeLine{339 }
\DoxyCodeLine{340     \textcolor{comment}{//Generate a building at a free place between the center and RDMRANGE}}
\DoxyCodeLine{341 }
\DoxyCodeLine{342     \textcolor{keywordtype}{int} range = \mbox{\hyperlink{assign_8h_a403c57e536b5d9e74b0348cbf6cb82c4}{RDMRANGE}};}
\DoxyCodeLine{343     }
\DoxyCodeLine{344     *maxstat = rand()\%3 +1;}
\DoxyCodeLine{345     }
\DoxyCodeLine{346     \textcolor{keywordtype}{int} compt = 0;}
\DoxyCodeLine{347     \textcolor{keywordflow}{while} (buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(*maxstat)] > 0 \&\& compt < 1000)}
\DoxyCodeLine{348     \{}
\DoxyCodeLine{349         *maxstat = rand()\%3 +1;}
\DoxyCodeLine{350         \textcolor{keywordtype}{int} rndm = rand();}
\DoxyCodeLine{351         srand(rndm + nbcompt+time(0));}
\DoxyCodeLine{352         compt += 1;}
\DoxyCodeLine{353     \}}
\DoxyCodeLine{354     }
\DoxyCodeLine{355     \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *tempcell = \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} + \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}}/2 + \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}*(\mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}/2);\textcolor{comment}{//center}}
\DoxyCodeLine{356     srand(time(0)* rand());}
\DoxyCodeLine{357     \textcolor{keywordtype}{int} rdm = rand();}
\DoxyCodeLine{358     compt = 0;}
\DoxyCodeLine{359     \textcolor{keywordtype}{int} rdmW = 0;}
\DoxyCodeLine{360     \textcolor{keywordtype}{int} rdmH = 0;}
\DoxyCodeLine{361     \textcolor{keywordflow}{while}(compt < 10000)}
\DoxyCodeLine{362     \{}
\DoxyCodeLine{363         tempcell = \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} + \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}}/2 + \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}*(\mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}/2);}
\DoxyCodeLine{364         srand(rdm + nbcompt+time(0));}
\DoxyCodeLine{365         rdm = rand();}
\DoxyCodeLine{366         rdmW = rdm \% (2*range) -\/ range;}
\DoxyCodeLine{367         srand(rdm);}
\DoxyCodeLine{368         rdmH = rand() \% (2*range) -\/ range;}
\DoxyCodeLine{369 }
\DoxyCodeLine{370         tempcell += rdmW + (\mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}}*rdmH);}
\DoxyCodeLine{371         \textcolor{keywordflow}{if}(tempcell-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} == -\/1)}
\DoxyCodeLine{372             \textcolor{keywordflow}{break};}
\DoxyCodeLine{373         compt++;}
\DoxyCodeLine{374     \}}
\DoxyCodeLine{375     *a = tempcell -\/ \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} ;}
\DoxyCodeLine{376     \textcolor{keywordflow}{return} tempcell;}
\DoxyCodeLine{377 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{map\+::cells}}, \mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{get\+Value()}}, \mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{map\+::max\+Height}}, \mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{map\+::max\+Width}}, \mbox{\hyperlink{assign_8h_a403c57e536b5d9e74b0348cbf6cb82c4}{RDMRANGE}}, and \mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{cell\+::type}}.



Referenced by \mbox{\hyperlink{assign_8c_a527224c39f56ef6cd7c884f61308ad64}{fill\+Town()}}.

\mbox{\Hypertarget{assign_8h_a8d1b043f2541bd164d2210f7570c8218}\label{assign_8h_a8d1b043f2541bd164d2210f7570c8218}} 
\index{assign.h@{assign.h}!generateRandomSubway@{generateRandomSubway}}
\index{generateRandomSubway@{generateRandomSubway}!assign.h@{assign.h}}
\doxysubsubsection{\texorpdfstring{generateRandomSubway()}{generateRandomSubway()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structcell}{cell}} $\ast$$\ast$ generate\+Random\+Subway (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structmap}{map}} $\ast$}]{map,  }\item[{int $\ast$}]{building\+List,  }\item[{int $\ast$$\ast$}]{building\+\_\+value }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{441 \{}
\DoxyCodeLine{442     \textcolor{comment}{//Randomly places Subways on the map}}
\DoxyCodeLine{443     \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} **Nodes = calloc(buildingList[6], \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \mbox{\hyperlink{structcell}{cell}} *));}
\DoxyCodeLine{444     \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *tmp = NULL;}
\DoxyCodeLine{445     \textcolor{keywordtype}{int} range = \mbox{\hyperlink{assign_8h_a403c57e536b5d9e74b0348cbf6cb82c4}{RDMRANGE}};}
\DoxyCodeLine{446     srand(time(0)* rand()); }
\DoxyCodeLine{447     \textcolor{keywordtype}{int} compt = 0;}
\DoxyCodeLine{448     \textcolor{keywordtype}{int} rdm = rand();}
\DoxyCodeLine{449     \textcolor{keywordtype}{int} rdmW = 0;}
\DoxyCodeLine{450     \textcolor{keywordtype}{int} rdmH = 0;}
\DoxyCodeLine{451     \textcolor{keywordflow}{while}(buildingList[6] > buildingList[6] / 2)}
\DoxyCodeLine{452     \{}
\DoxyCodeLine{453         \textcolor{keywordflow}{while}(compt < 10000)}
\DoxyCodeLine{454         \{}
\DoxyCodeLine{455             tmp = \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} + \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}}/2 + \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}*(\mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}/2);}
\DoxyCodeLine{456             srand(rdm + time(0));}
\DoxyCodeLine{457             rdm = rand();}
\DoxyCodeLine{458             rdmW = rdm \% (4*range) -\/ 2*range;}
\DoxyCodeLine{459             srand(rdm);}
\DoxyCodeLine{460             rdmH = rand() \% (4*range) -\/ 2*range;}
\DoxyCodeLine{461             tmp += rdmW + (\mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}} * rdmH);}
\DoxyCodeLine{462             \textcolor{keywordflow}{if}(tmp-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} == -\/1)}
\DoxyCodeLine{463                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{464             compt++;}
\DoxyCodeLine{465         \}}
\DoxyCodeLine{466         tmp-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 7;}
\DoxyCodeLine{467         buildingList[6] -\/= 1;}
\DoxyCodeLine{468         *(Nodes + buildingList[6])= tmp;}
\DoxyCodeLine{469         \mbox{\hyperlink{update_8c_a86539730d7569637769e840303e61adc}{updateAround}}(\mbox{\hyperlink{structmap}{map}}, (*(Nodes +buildingList[6]) -\/ \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}}) \% \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}, (*(Nodes +buildingList[6]) -\/ \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}}) / \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}},building\_value);}
\DoxyCodeLine{470         }
\DoxyCodeLine{471     \}}
\DoxyCodeLine{472     \textcolor{keywordflow}{while} (buildingList[6] > 0)}
\DoxyCodeLine{473     \{}
\DoxyCodeLine{474         \textcolor{keywordtype}{int} a, b = 0;}
\DoxyCodeLine{475         \textcolor{keywordtype}{int} far = 0;}
\DoxyCodeLine{476         \textcolor{keywordflow}{while}(a == 0)\textcolor{comment}{//find the nearest free adress}}
\DoxyCodeLine{477         \{}
\DoxyCodeLine{478                 \mbox{\hyperlink{assign_8c_adb0ad6eb97da5476b080b88bfbca057c}{subwaySquare}}(\mbox{\hyperlink{structmap}{map}}, 3+far*2, \&a, \&b);}
\DoxyCodeLine{479                 far++;}
\DoxyCodeLine{480         \}}
\DoxyCodeLine{481         (\mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} + a + b*\mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}})-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 7;}
\DoxyCodeLine{482         buildingList[6] -\/= 1;}
\DoxyCodeLine{483         \mbox{\hyperlink{update_8c_a86539730d7569637769e840303e61adc}{updateAround}}(\mbox{\hyperlink{structmap}{map}}, a, b, building\_value);}
\DoxyCodeLine{484     \}}
\DoxyCodeLine{485     \textcolor{keywordflow}{return} Nodes;}
\DoxyCodeLine{486 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{map\+::cells}}, \mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{map\+::max\+Height}}, \mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{map\+::max\+Width}}, \mbox{\hyperlink{assign_8h_a403c57e536b5d9e74b0348cbf6cb82c4}{RDMRANGE}}, \mbox{\hyperlink{assign_8c_adb0ad6eb97da5476b080b88bfbca057c}{subway\+Square()}}, \mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{cell\+::type}}, and \mbox{\hyperlink{update_8c_a86539730d7569637769e840303e61adc}{update\+Around()}}.



Referenced by \mbox{\hyperlink{assign_2main_8c_a3d4cdb81f3bfaf77001e4b79839dfd75}{test\+Assign()}}.

\mbox{\Hypertarget{assign_8h_a71f430d4fa6a854641d8e414ecfead93}\label{assign_8h_a71f430d4fa6a854641d8e414ecfead93}} 
\index{assign.h@{assign.h}!generateRdmRoads@{generateRdmRoads}}
\index{generateRdmRoads@{generateRdmRoads}!assign.h@{assign.h}}
\doxysubsubsection{\texorpdfstring{generateRdmRoads()}{generateRdmRoads()}}
{\footnotesize\ttfamily void generate\+Rdm\+Roads (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structmap}{map}} $\ast$}]{map,  }\item[{int}]{nb\+\_\+sub,  }\item[{struct \mbox{\hyperlink{structcell}{cell}} $\ast$$\ast$}]{Nodes }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{489 \{}
\DoxyCodeLine{490     \textcolor{comment}{//Places the first roads in order to avoid deleting existing buildings}}
\DoxyCodeLine{491     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < nb\_sub -\/ 1; i++)}
\DoxyCodeLine{492     \{}
\DoxyCodeLine{493         \mbox{\hyperlink{road_8c_aa04096c8b705bb7c9d3df6003353602d}{createWay}}(\mbox{\hyperlink{structmap}{map}}, (*(Nodes +i) -\/ \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}}) \% \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}, (*(Nodes + i) -\/ \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}})/\mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}, (*(Nodes + i + 1) -\/ \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}}) \% \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}, (*(Nodes +i + 1) -\/ \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}}) / \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}});}
\DoxyCodeLine{494         \mbox{\hyperlink{road_8c_a0094438005cb56bceef0f213188c8931}{cleanWay}}(\mbox{\hyperlink{structmap}{map}});}
\DoxyCodeLine{495         }
\DoxyCodeLine{496     \}}
\DoxyCodeLine{497 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{map\+::cells}}, \mbox{\hyperlink{road_8c_a0094438005cb56bceef0f213188c8931}{clean\+Way()}}, \mbox{\hyperlink{road_8c_aa04096c8b705bb7c9d3df6003353602d}{create\+Way()}}, and \mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{map\+::max\+Height}}.



Referenced by \mbox{\hyperlink{assign_2main_8c_a3d4cdb81f3bfaf77001e4b79839dfd75}{test\+Assign()}}.

\mbox{\Hypertarget{assign_8h_a09b468e0b9bf23d8cc13b67fab3b4617}\label{assign_8h_a09b468e0b9bf23d8cc13b67fab3b4617}} 
\index{assign.h@{assign.h}!initMap@{initMap}}
\index{initMap@{initMap}!assign.h@{assign.h}}
\doxysubsubsection{\texorpdfstring{initMap()}{initMap()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structmap}{map}} $\ast$ init\+Map (\begin{DoxyParamCaption}\item[{unsigned int}]{maxH,  }\item[{unsigned int}]{maxW }\end{DoxyParamCaption})}

Map Initialisation
\begin{DoxyCode}{0}
\DoxyCodeLine{69 \{}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \textcolor{keyword}{struct }\mbox{\hyperlink{structmap}{map}} *newMap = malloc(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \mbox{\hyperlink{structmap}{map}}));}
\DoxyCodeLine{73     newMap-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}} = maxH;}
\DoxyCodeLine{74     newMap-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}} = maxW;}
\DoxyCodeLine{75 }
\DoxyCodeLine{76     \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *cells = malloc(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \mbox{\hyperlink{structcell}{cell}}) * maxW * maxH);}
\DoxyCodeLine{77     newMap-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} = cells;}
\DoxyCodeLine{78     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < (int) (maxH*maxW); i++)}
\DoxyCodeLine{79     \{}
\DoxyCodeLine{80         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < \mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}; j++)}
\DoxyCodeLine{81             (cells+i)-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[j] = 0;}
\DoxyCodeLine{82 }
\DoxyCodeLine{83         (cells+i)-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = -\/1;}
\DoxyCodeLine{84     \}}
\DoxyCodeLine{85     \textcolor{keywordflow}{return} newMap;}
\DoxyCodeLine{86 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{map\+::cells}}, \mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{map\+::max\+Height}}, \mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{map\+::max\+Width}}, \mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}, \mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{cell\+::stats}}, and \mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{cell\+::type}}.



Referenced by \mbox{\hyperlink{assign_2main_8c_a3d4cdb81f3bfaf77001e4b79839dfd75}{test\+Assign()}}.

\mbox{\Hypertarget{assign_8h_acd8aface572ac83fb48302f369e814c8}\label{assign_8h_acd8aface572ac83fb48302f369e814c8}} 
\index{assign.h@{assign.h}!minMaxMap@{minMaxMap}}
\index{minMaxMap@{minMaxMap}!assign.h@{assign.h}}
\doxysubsubsection{\texorpdfstring{minMaxMap()}{minMaxMap()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structmap}{map}} $\ast$ min\+Max\+Map (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structmap}{map}} $\ast$}]{new\+Map,  }\item[{struct \mbox{\hyperlink{structmap}{map}} $\ast$}]{test\+Map }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{23 \{}
\DoxyCodeLine{24     \textcolor{keywordtype}{int} nbbat = 0;}
\DoxyCodeLine{25 }
\DoxyCodeLine{26     \textcolor{keywordtype}{int} stat[\mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}] = \{0\};}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < newMap-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}} * newMap-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}; j++)}
\DoxyCodeLine{29     \{}
\DoxyCodeLine{30         \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *upTest = newMap-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} + j;}
\DoxyCodeLine{31         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}; i++)}
\DoxyCodeLine{32             stat[i] += upTest-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[i];}
\DoxyCodeLine{33         nbbat++;}
\DoxyCodeLine{34     \}}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{keywordtype}{int} M\_sec = stat[0]/nbbat;}
\DoxyCodeLine{37     \textcolor{keywordtype}{int} M\_job = stat[1]/nbbat;}
\DoxyCodeLine{38     \textcolor{keywordtype}{int} M\_hab = stat[2]/nbbat;}
\DoxyCodeLine{39     \textcolor{keywordtype}{int} M\_eco = stat[3]/nbbat;}
\DoxyCodeLine{40     \textcolor{keywordtype}{int} M\_hea = stat[4]/nbbat;}
\DoxyCodeLine{41     \textcolor{keywordtype}{int} moy = (M\_sec + M\_job + M\_hab + M\_eco + M\_hea)/5;}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     nbbat = 0;}
\DoxyCodeLine{44 }
\DoxyCodeLine{45     \textcolor{keywordtype}{int} \_stat[\mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}] = \{0\};}
\DoxyCodeLine{46 }
\DoxyCodeLine{47     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < testMap-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}} * testMap-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}; j++)}
\DoxyCodeLine{48     \{}
\DoxyCodeLine{49         \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *upTest = testMap-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} + j;}
\DoxyCodeLine{50         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}; i++)}
\DoxyCodeLine{51             \_stat[i] += upTest-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[i];}
\DoxyCodeLine{52         nbbat++;}
\DoxyCodeLine{53     \}}
\DoxyCodeLine{54 }
\DoxyCodeLine{55     \textcolor{keywordtype}{int} \_M\_sec = \_stat[0]/nbbat;}
\DoxyCodeLine{56     \textcolor{keywordtype}{int} \_M\_job = \_stat[1]/nbbat;}
\DoxyCodeLine{57     \textcolor{keywordtype}{int} \_M\_hab = \_stat[2]/nbbat;}
\DoxyCodeLine{58     \textcolor{keywordtype}{int} \_M\_eco = \_stat[3]/nbbat;}
\DoxyCodeLine{59     \textcolor{keywordtype}{int} \_M\_hea = \_stat[4]/nbbat;}
\DoxyCodeLine{60     \textcolor{keywordtype}{int} \_moy = (\_M\_sec + \_M\_job + \_M\_hab + \_M\_eco + \_M\_hea)/5;}
\DoxyCodeLine{61 }
\DoxyCodeLine{62     \textcolor{keywordflow}{return} (moy < \_moy)?testMap:newMap;}
\DoxyCodeLine{63 }
\DoxyCodeLine{64 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{map\+::cells}}, \mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{map\+::max\+Height}}, \mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{map\+::max\+Width}}, \mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}, and \mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{cell\+::stats}}.



Referenced by \mbox{\hyperlink{assign_2main_8c_a3d4cdb81f3bfaf77001e4b79839dfd75}{test\+Assign()}}.

\mbox{\Hypertarget{assign_8h_ae8edf5c268e483bf6616420db4061584}\label{assign_8h_ae8edf5c268e483bf6616420db4061584}} 
\index{assign.h@{assign.h}!replaceGlobalNeed@{replaceGlobalNeed}}
\index{replaceGlobalNeed@{replaceGlobalNeed}!assign.h@{assign.h}}
\doxysubsubsection{\texorpdfstring{replaceGlobalNeed()}{replaceGlobalNeed()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structcell}{cell}} $\ast$ replace\+Global\+Need (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structmap}{map}} $\ast$}]{map,  }\item[{int $\ast$}]{building\+List,  }\item[{int $\ast$}]{maxstat,  }\item[{int}]{roof,  }\item[{int $\ast$}]{a }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{264 \{}
\DoxyCodeLine{265 }
\DoxyCodeLine{266     \textcolor{comment}{//Research the max need to replace in all the map}}
\DoxyCodeLine{267 }
\DoxyCodeLine{268     \textcolor{keywordtype}{int} maxneed = 0.6*(float)roof;}
\DoxyCodeLine{269     \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *result = NULL;}
\DoxyCodeLine{270     *a = 0;}
\DoxyCodeLine{271     }
\DoxyCodeLine{272     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}} * \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}; j++)}
\DoxyCodeLine{273     \{}
\DoxyCodeLine{274         \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *upTest = \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} + j;}
\DoxyCodeLine{275         \textcolor{keywordflow}{if}(upTest-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} > 0 \&\& upTest-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} < 6)}
\DoxyCodeLine{276         \{}
\DoxyCodeLine{277             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}; i++)}
\DoxyCodeLine{278             \{}
\DoxyCodeLine{279                 }
\DoxyCodeLine{280                 \textcolor{keywordflow}{if}(upTest-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[i] > maxneed \&\& buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(i)] != 0)}
\DoxyCodeLine{281                 \{}
\DoxyCodeLine{282                     \textcolor{keywordflow}{if}(\mbox{\hyperlink{assign__tools_8c_ae3a3ebd33af3ef2d658519c9c18fc428}{getType}}(upTest-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}}) != i)}
\DoxyCodeLine{283                     \{}
\DoxyCodeLine{284                         *a = j;}
\DoxyCodeLine{285                         maxneed = upTest-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[i];}
\DoxyCodeLine{286                         *maxstat = i;}
\DoxyCodeLine{287                         result = upTest;}
\DoxyCodeLine{288                     \}}
\DoxyCodeLine{289                 \}}
\DoxyCodeLine{290             \}}
\DoxyCodeLine{291         \}}
\DoxyCodeLine{292     \}}
\DoxyCodeLine{293     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{294 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{map\+::cells}}, \mbox{\hyperlink{assign__tools_8c_ae3a3ebd33af3ef2d658519c9c18fc428}{get\+Type()}}, \mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{get\+Value()}}, \mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{map\+::max\+Height}}, \mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{map\+::max\+Width}}, \mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}, \mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{cell\+::stats}}, and \mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{cell\+::type}}.



Referenced by \mbox{\hyperlink{assign_8c_a4be01986344e82266a0691d32072733f}{replace\+Town()}}.

\mbox{\Hypertarget{assign_8h_a4be01986344e82266a0691d32072733f}\label{assign_8h_a4be01986344e82266a0691d32072733f}} 
\index{assign.h@{assign.h}!replaceTown@{replaceTown}}
\index{replaceTown@{replaceTown}!assign.h@{assign.h}}
\doxysubsubsection{\texorpdfstring{replaceTown()}{replaceTown()}}
{\footnotesize\ttfamily void replace\+Town (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structmap}{map}} $\ast$}]{map,  }\item[{int $\ast$}]{building\+List,  }\item[{int}]{roof,  }\item[{int $\ast$$\ast$}]{building\+\_\+value,  }\item[{int $\ast$}]{nbreplacement }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{193 \{}
\DoxyCodeLine{194 }
\DoxyCodeLine{195     \textcolor{comment}{//Replace some buildings by others to make the town better}}
\DoxyCodeLine{196 }
\DoxyCodeLine{197     \textcolor{keywordtype}{int} *a = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{198     \textcolor{keywordtype}{int} *b = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{199     *a = 0;}
\DoxyCodeLine{200     *b = 12;}
\DoxyCodeLine{201     \textcolor{keywordtype}{int} maxStats = 0;}
\DoxyCodeLine{202     \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *\mbox{\hyperlink{structcell}{cell}} = \mbox{\hyperlink{assign_8c_ae8edf5c268e483bf6616420db4061584}{replaceGlobalNeed}}(\mbox{\hyperlink{structmap}{map}}, buildingList, \&maxStats,roof, a);}
\DoxyCodeLine{203     \textcolor{keywordflow}{if}(*a == 0)}
\DoxyCodeLine{204     \{}
\DoxyCodeLine{205         free(a);}
\DoxyCodeLine{206         free(b);}
\DoxyCodeLine{207         \textcolor{keywordflow}{return};}
\DoxyCodeLine{208     \}}
\DoxyCodeLine{209 }
\DoxyCodeLine{210     \textcolor{keywordtype}{int} temp = *a;}
\DoxyCodeLine{211     *a = temp \% \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}};\textcolor{comment}{//setting a value}}
\DoxyCodeLine{212     *b = temp / \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}};\textcolor{comment}{//setting b value}}
\DoxyCodeLine{213     }
\DoxyCodeLine{214     \mbox{\hyperlink{update_8c_a4d8d63e78f5f366a98b4f47b1027da1f}{reverseUpdateAround}}(\mbox{\hyperlink{structmap}{map}}, *a, *b, building\_value);}
\DoxyCodeLine{215 }
\DoxyCodeLine{216     buildingList[\mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}}] += 1;}
\DoxyCodeLine{217     \textcolor{keywordflow}{if}(maxStats == 1)}
\DoxyCodeLine{218     \{}
\DoxyCodeLine{219         \textcolor{comment}{//cell-\/>building = *(buildingList+14);}}
\DoxyCodeLine{220         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 2;\textcolor{comment}{//OFFICE}}
\DoxyCodeLine{221         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[1] = 0;}
\DoxyCodeLine{222         buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)] -\/= 1;}
\DoxyCodeLine{223     \}}
\DoxyCodeLine{224     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(maxStats == 2)}
\DoxyCodeLine{225     \{}
\DoxyCodeLine{226         \textcolor{comment}{//cell-\/>building  = *(buildingList+4);}}
\DoxyCodeLine{227         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 1;\textcolor{comment}{//PROPERTY}}
\DoxyCodeLine{228         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[2] = 0;}
\DoxyCodeLine{229         buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)] -\/= 1;}
\DoxyCodeLine{230     \}}
\DoxyCodeLine{231     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(maxStats == 3)}
\DoxyCodeLine{232     \{}
\DoxyCodeLine{233         \textcolor{comment}{//cell-\/>building  = *(buildingList+18);}}
\DoxyCodeLine{234         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 4;\textcolor{comment}{//SHOP}}
\DoxyCodeLine{235         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[3] = 0;}
\DoxyCodeLine{236         buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)] -\/= 1;}
\DoxyCodeLine{237     \}}
\DoxyCodeLine{238     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(maxStats == 4)}
\DoxyCodeLine{239     \{}
\DoxyCodeLine{240         \textcolor{comment}{//cell-\/>building  = *(buildingList+2);}}
\DoxyCodeLine{241         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 5;\textcolor{comment}{//HOSPITAL}}
\DoxyCodeLine{242         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[4]= 0;}
\DoxyCodeLine{243         buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)] -\/= 1;}
\DoxyCodeLine{244     \}}
\DoxyCodeLine{245     \textcolor{keywordflow}{else}}
\DoxyCodeLine{246     \{}
\DoxyCodeLine{247         \textcolor{comment}{//cell-\/>building  = *(buildingList+2);}}
\DoxyCodeLine{248         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} = 3;\textcolor{comment}{//COMMISSARY}}
\DoxyCodeLine{249         \mbox{\hyperlink{structcell}{cell}}-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[5]= 0;}
\DoxyCodeLine{250         buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(maxStats)] -\/= 1;}
\DoxyCodeLine{251     \}}
\DoxyCodeLine{252 }
\DoxyCodeLine{253     *nbreplacement += 1;}
\DoxyCodeLine{254     \mbox{\hyperlink{update_8c_a86539730d7569637769e840303e61adc}{updateAround}}(\mbox{\hyperlink{structmap}{map}}, *a, *b, building\_value);}
\DoxyCodeLine{255 }
\DoxyCodeLine{256     \textcolor{comment}{//free}}
\DoxyCodeLine{257     free(a);}
\DoxyCodeLine{258     free(b);}
\DoxyCodeLine{259 \}}

\end{DoxyCode}


References \mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{get\+Value()}}, \mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{map\+::max\+Width}}, \mbox{\hyperlink{assign_8c_ae8edf5c268e483bf6616420db4061584}{replace\+Global\+Need()}}, \mbox{\hyperlink{update_8c_a4d8d63e78f5f366a98b4f47b1027da1f}{reverse\+Update\+Around()}}, \mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{cell\+::stats}}, \mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{cell\+::type}}, and \mbox{\hyperlink{update_8c_a86539730d7569637769e840303e61adc}{update\+Around()}}.



Referenced by \mbox{\hyperlink{assign_2main_8c_a3d4cdb81f3bfaf77001e4b79839dfd75}{test\+Assign()}}.

\mbox{\Hypertarget{assign_8h_a3deb1131b3df3c9545342a9d4954625e}\label{assign_8h_a3deb1131b3df3c9545342a9d4954625e}} 
\index{assign.h@{assign.h}!searchGlobalNeed@{searchGlobalNeed}}
\index{searchGlobalNeed@{searchGlobalNeed}!assign.h@{assign.h}}
\doxysubsubsection{\texorpdfstring{searchGlobalNeed()}{searchGlobalNeed()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structcell}{cell}} $\ast$ search\+Global\+Need (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structmap}{map}} $\ast$}]{map,  }\item[{int $\ast$}]{building\+List,  }\item[{int $\ast$}]{maxstat,  }\item[{int}]{roof,  }\item[{int $\ast$}]{a }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{299 \{}
\DoxyCodeLine{300 }
\DoxyCodeLine{301     \textcolor{comment}{//Research the max need in all the map only at free place}}
\DoxyCodeLine{302 }
\DoxyCodeLine{303     \textcolor{keywordtype}{int} maxneed = roof;}
\DoxyCodeLine{304     \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *result = NULL;}
\DoxyCodeLine{305     *a = 0;}
\DoxyCodeLine{306     }
\DoxyCodeLine{307     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{maxWidth}} * \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{maxHeight}}; j++)}
\DoxyCodeLine{308     \{}
\DoxyCodeLine{309         \textcolor{keyword}{struct }\mbox{\hyperlink{structcell}{cell}} *upTest = \mbox{\hyperlink{structmap}{map}}-\/>\mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{cells}} + j;}
\DoxyCodeLine{310         \textcolor{keywordflow}{if}(upTest-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} == -\/1)}
\DoxyCodeLine{311         \{}
\DoxyCodeLine{312             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}; i++)}
\DoxyCodeLine{313             \{}
\DoxyCodeLine{314                 }
\DoxyCodeLine{315                 \textcolor{keywordflow}{if}(upTest-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[i] > maxneed \&\& buildingList[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(i)] > 0)\textcolor{comment}{//implement un and buildinglist stat == 0}}
\DoxyCodeLine{316                 \{}
\DoxyCodeLine{317                     *a = j;}
\DoxyCodeLine{318                     maxneed = upTest-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[i];}
\DoxyCodeLine{319                     *maxstat = i;}
\DoxyCodeLine{320                     result = upTest;}
\DoxyCodeLine{321                 \}}
\DoxyCodeLine{322             \}}
\DoxyCodeLine{323         \}}
\DoxyCodeLine{324         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (upTest-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} > 0 \&\& upTest-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} > 6 \&\& upTest-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[\mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{getValue}}(upTest-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}})] > maxneed)}
\DoxyCodeLine{325         \{}
\DoxyCodeLine{326             *a = j;}
\DoxyCodeLine{327             maxneed = upTest-\/>\mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{stats}}[upTest-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} + 6];}
\DoxyCodeLine{328             *maxstat = upTest-\/>\mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{type}} + 6;}
\DoxyCodeLine{329             result = upTest;}
\DoxyCodeLine{330 }
\DoxyCodeLine{331         \}}
\DoxyCodeLine{332     \}}
\DoxyCodeLine{333     }
\DoxyCodeLine{334     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{335 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structmap_ab5aacba1636793932a1893f75b3f561b}{map\+::cells}}, \mbox{\hyperlink{assign__tools_8c_a492dde50ddea1b36860c4ea3b1d32470}{get\+Value()}}, \mbox{\hyperlink{structmap_a946d2182ad7262a74e8674d94d6a1d3b}{map\+::max\+Height}}, \mbox{\hyperlink{structmap_abcfc00fdba1d07bf4ea2626380b427d6}{map\+::max\+Width}}, \mbox{\hyperlink{building_8h_a92670759c24398df4ead0c1dd49d53d0}{NBSTATS}}, \mbox{\hyperlink{structcell_a33f9eae3bd092d0a68d75898a9c7367d}{cell\+::stats}}, and \mbox{\hyperlink{structcell_a8d271074c9068c96ce148c5f8f14ff18}{cell\+::type}}.



Referenced by \mbox{\hyperlink{assign_8c_a527224c39f56ef6cd7c884f61308ad64}{fill\+Town()}}.

